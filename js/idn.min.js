langtag_required=false;langtag=false;langtag_obj=$('select[name="domain-langtag"]');$(function(){var a=uriParam("domain-langtag");if(a!=""){if(langtag_obj.find('option[data-alternative="'+a+'"]').length){langtag_obj.val(langtag_obj.find('option[data-alternative="'+a+'"]').attr("value"))}else{langtag_obj.val(a)}langTagDisableTLDS($('select[name="tld"]'))}$('.compare-boxes select[name="domain-langtag"]').on("change",function(){langTagDisableTLDS($('select[name="tld"]'),function(){domain_search_li_update()})});if(langtag_required&&(langtag_obj.val()!="")){langTagDisableTLDS($('select[name="tld"]'));if(get_sld()!=""){langtag_required_func(get_sld())}}if((typeof $("[name=sld]").val()!="undefined")&&($("[name=sld]").val()!="")){langtag_required_func(punycode.toASCII($("[name=sld]").val()))}old_sld=($('[name="sld"]').length)?$('[name="sld"]').val():($("#first_sld").length?$("#first_sld").val():"");$('[name="sld"]').on("keyup",function(b){if(b.which==13){b.preventDefault();return false}if(old_sld!=$(this).val()){if($(this).val()==""){old_sld="";return}var c=get_sld($(this).val());if(!c.match(/^(xn--)?[a-z0-9][a-z0-9-]{0,61}[a-z0-9]{0,1}$/)){showMsg("error",invalid_domain);$(this).val(old_sld);return false}else{old_sld=punycode.toUnicode(c);$(".achtungFail").achtung("close")}$(this).val(punycode.toUnicode(c))}langtag_required_func()});$(".domains-search-form").on("submit",function(b){if(typeof langtag_required!="undefined"&&langtag_required){if((typeof langtag=="undefined")||(!langtag)){showMsg("notice",langtag_required_msg);b.preventDefault();return false}}$(this).find('select[name="sld"]').val(get_sld().replace(/-+$/,""))}).on("change",'select[name="domain-langtag"]',function(){langTagDisableTLDS($('select[name="tld"]'),function(){if(get_sld()!=""){$(".domains-search-form").submit()}})})});function get_sld(b,a){if((typeof b=="undefined")||(b=="")||(b==null)||!b){b=$.trim(sld_obj.val())}else{b=$.trim(b)}b=b.toLowerCase().replace(/^www\./,"").replace(/^-+/,"").replace(/-{2,}$/,"-");if(a){b=b.replace(/-+$/,"")}return(window.punycode?punycode.toASCII(b):b)}function langtag_required_func(c){if(typeof c=="undefined"){var c=get_sld()}if(c.match(/^xn--[a-zA-Z0-9-]+/)){a=b=d=false;switch($('input[name="sld"]').attr("id")){case"domains-results-sld":var a="large-4 medium-4 small-12 columns";var b="large-4 medium-4 small-6 nopadding columns";var d="large-4 medium-3 small-6 columns";break;case"domain-search-sld":var a="large-12 small-12 cyr columns";var b="large-6 small-6 columns";var d="large-6 small-6 columns";break}if(!langtag_obj.is(":visible")){langtag_obj.prop("disabled",false);langtag_obj.parent().show();langtag_required_functions_sld_class=$('input[name="sld"]').parent().attr("class");langtag_required_functions_langtag_class=langtag_obj.parent().attr("class");langtag_required_functions_tld_class=$('select[name="tld"]').parent().attr("class");if(a){$('input[name="sld"]').parent().attr("class",a)}if(b){langtag_obj.parent().attr("class",b)}if(d){$('select[name="tld"]').parent().attr("class",d)}}langtag_required=true;langtag=langtag_obj.val()}else{if(langtag_obj.is(":visible")){langtag_obj.prop("disabled",true);langtag_obj.parent().hide();$('input[name="sld"]').parent().attr("class",langtag_required_functions_sld_class);langtag_obj.parent().attr("class",langtag_required_functions_langtag_class);$('select[name="tld"]').parent().attr("class",langtag_required_functions_tld_class)}langtag_required=false;langtag=false}}function getLangTag(a){if((typeof langtag_required=="undefined")||!langtag_required){return false}if(langtag_obj.val()==""){return false}if((typeof idn_iso2_tlds!="undefined")&&($.inArray(a,idn_iso2_tlds)==-1)&&langtag_obj.find("option:selected").data("alternative")!=""){return langtag_obj.find("option:selected").data("alternative")}else{return langtag_obj.val()}}function langTagDisableTLDS(b,a){if(!langtag_obj.length){return false}langtag=langtag_obj.val();if(langtag==""){return}var c=langtag_obj.find("option:selected").text();if(typeof idn_map[c]=="undefined"){return}if(idn_map[c]["tlds"].length){b.find("option").prop("disabled",true);$.each(idn_map[c]["tlds"],function(d,e){b.find('option[value="'+e+'"]').prop("disabled",false)})}if(typeof a=="function"){a()}}function uriParam(b){var a=RegExp("[?&]"+b+"=([^&]*)").exec(window.location.search);return a&&decodeURIComponent(a[1].replace(/\+/g," "))};