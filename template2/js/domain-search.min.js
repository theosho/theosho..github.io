var sld_obj=$('input[name="sld"]');var tld_obj=$('select[name="tld"]');var ul_obj=$("#drop1");var sld_val=sld_obj.val();var tld_val=tld_obj.val();var searched="";var requests=[];var registerdomain_details,tlds_details,price_details,orders_url,domains_search_results_url;$(function(){var a;if(sld_obj.size()){$("#domain-search-sld").on("keyup",function(){clearTimeout(a);a=setTimeout(domain_search_li_update,750)}).on("click",domain_search_li_update).on("change",domain_search_li_update);$(window).on("resize",fix_box_pos_n_size).on("mouseup",function(b){if(!ul_obj.is(b.target)&&!sld_obj.is(b.target)&&ul_obj.has(b.target).length===0){ul_obj.hide()}})}$(".domains-search-form").submit(function(b){if(!$.trim(sld_obj.val())){b.preventDefault()}});$("[name=sld]").on("keyup",function(b){})});function domain_search_li_update(g){ul_obj.hide();fix_box_pos_n_size();tld_val=tld_obj.val();var d=get_sld(null,true);if(d.length<3){return false}if(d.length>63){showMsg("error",invalid_domain);return false}if(typeof langtag_required!="undefined"&&langtag_required){if((typeof langtag=="undefined")||(!langtag)){showMsg("notice",langtag_required_msg);return false}}ul_obj.show();if(searched==d+"."+tld_val+((typeof langtag!="undefined")&&(langtag!=false)?"."+langtag:"")){return}searched=d+"."+tld_val+((typeof langtag!="undefined")&&(langtag!=false)?"."+langtag:"");$.each(requests,function(i,e){if(e&&e.readystate!=4){e.abort()}});requests=[];var f=[];if(window.langtag){_tlds_details=[];tld_obj.find("option").each(function(i,e){if($(this).is(":disabled")||(typeof tlds_details[$(this).prop("value")]=="undefined")||(tlds_details[$(this).prop("value")]==null)||(tlds_details[$(this).prop("value")]=="")){return}_tlds_details[$(this).prop("value")]=tlds_details[$(this).prop("value")]})}else{_tlds_details=tlds_details}var b=0;for(var a in _tlds_details){f.push(a);b++;if(6==b){break}}if(f.indexOf(tld_val)!=-1){f.splice(f.indexOf(tld_val),1)}f.unshift(tld_val);var c="";var h="";ul_obj.html("");$.each(f,function(k,e){var j=d+"."+e;ul_obj.append("<li><span>"+(window.punycode?punycode.toUnicode(j):j)+'</span><span name="price_'+(window.punycode?punycode.toASCII(j):j)+'" style="text-align: right; white-space: nowrap"></span><span name="status_'+(window.punycode?punycode.toASCII(j):j)+'"><i class="icon-spinner icon-spin"></i></span></li>');params={sld:d,tld:e};if(window.langtag&&window.getLangTag){if((_langtag=getLangTag(e))!=false){params.langtag=_langtag}}var i=$.post("/domain-search.php",params,function(l){},"script");requests.push(i)});ul_obj.append('<li><span><a href="'+domains_search_results_url+"?sld="+d+"&tld="+tld_val+(params.langtag?"&domain-langtag="+params.langtag:"")+'">'+small_domain_search_viewall+"</a></span></li>");return;$("#list-all-tld-big").attr("href","/domain-search/?sld="+d+"&tld="+tld_val);$("#list-all-tld-big-a").attr("href","/domain-search/?sld="+d+"&tld="+tld_val)}function fix_box_pos_n_size(){var c=sld_obj.offset();var a=sld_obj.outerHeight();ul_obj.css({position:"absolute",width:"auto",left:"auto",right:"auto",zIndex:"2",top:(c.top+a)+"px"});var b=$(window).width();if(ul_obj.width()+30>b){ul_obj.css("width","100%")}else{if((c.left+ul_obj.width())>b){ul_obj.css("right","0px")}else{ul_obj.css("left",c.left+"px")}}}function domain_search_data(a){$.each(a,function(c,b){if(c=="error"){return}var f=c.substr(0,c.indexOf("."));var d=c.substr(c.indexOf(".")+1);var e='<a title="'+not_available_title+'">'+not_available+"</a>";var g=((window.getLangTag&&((_langtag=getLangTag(d))!=false))?"&langtag="+_langtag:"");if(b=="1"){e='<a href="https://checkout.duoservers.com/order/?sld='+f+"&tld="+d+g+"&s_id="+s_id+"&r_d="+r_id+'&stop_search=1" class="button round small">'+register_button+"</a>"}if(b=="0"){e='<a href="https://checkout.duoservers.com/order/?sld='+f+"&tld="+d+g+"&s_id="+s_id+"&r_d="+r_id+'" class="button round small transfer">'+transfer_button+"</a>"}$.each(registerdomain_details,function(){if(this.name!=d){return true}var h=tlds_details[d]["years"][0];if(this.hasOwnProperty("prices_register")&&b=="1"){price=sprintf(this.currency_symbol,this.prices_register["period_"+(12*h)])}else{if(this.hasOwnProperty("prices_transfer")&&b=="0"){price=sprintf(this.currency_symbol,this.prices_transfer["period_"+(12*h)])}else{price=sprintf(this.currency_symbol,this.prices["period_"+(12*h)])}}period=" "+small_domain_search_for+" "+h+small_domain_search_period});$('[name="price_'+punycode.toASCII(c)+'"]',ul_obj).html(price+period);$('[name="status_'+punycode.toASCII(c)+'"]',ul_obj).html(e)})}function domain_search_data2(a){$.each(a,function(d,l){if(d=="error"){return}var f=d.match(/^([^.]+)\.(.+)$/);var e=$('.domains-search-results-table tr[tld] span[name="status_'+punycode.toUnicode(d)+'"]');var b=$('.domains-search-results-table tr[tld] td[name="price_'+punycode.toUnicode(d)+'"]');var c=$('.domains-search-results-table tr[tld] td[name="info_'+punycode.toUnicode(d)+'"]');var i=$('.domains-search-results-table tr[tld] td[name="promo_'+punycode.toUnicode(d)+'"] small.has-promo');var h=window.getLangTag&&(f!=null)&&((_langtag=getLangTag(f[2]))!=false)?"&domain-langtag="+_langtag:"";if(l=="1"){var j=Math.min(price_details.tlds[f[2]].register,price_details.tlds[f[2]].register_promo);var g=sprintf(price_details.currency_symbol+" "+price_details.store_currency+"/"+domains_table_annual,j);if(price_details.tlds[f[2]].has_promo_price||price_details.tlds[f[2]].is_free||j<price_details.tlds[f[2]].register){if(price_details.tlds[f[2]].is_free){g='<span class="price-promo">'+sprintf(price_details.currency_symbol+"* "+price_details.store_currency+"/"+domains_table_annual,price_details.tlds[f[2]].register_promo)+"</span>";c.html('<i title="* '+free_with_hosting+'" data-tooltip class="icon-info-sign has-tip tip-bottom"></i>');if(price_details.tlds[f[2]].has_promo_price){g=g+'<span class="price-old">'+sprintf(price_details.currency_symbol+"** "+price_details.store_currency+"/"+domains_table_annual,price_details.tlds[f[2]].register)+"</span>";c.html('<i title="* '+free_with_hosting+"<br><br>*"+promotional_one_year+'" data-tooltip class="icon-info-sign has-tip tip-bottom"></i>')}else{g=g+'<span class="price-old">'+sprintf(price_details.currency_symbol+" "+price_details.store_currency+"/"+domains_table_annual,price_details.tlds[f[2]].register_normal)+"</span>"}}else{if(j<price_details.tlds[f[2]].register_promo){g='<span class="price-promo">'+sprintf(price_details.currency_symbol+"* "+price_details.store_currency+"/"+domains_table_annual,price_details.tlds[f[2]].register)+'</span><span class="price-old">'+sprintf(price_details.currency_symbol+" "+price_details.store_currency+"/"+domains_table_annual,price_details.tlds[f[2]].register_normal)+"</span>";c.html('<i title="'+promotional_one_year+'" data-tooltip class="icon-info-sign has-tip tip-bottom"></i>')}else{g=sprintf(price_details.currency_symbol+" "+price_details.store_currency+"/"+domains_table_annual,price_details.tlds[f[2]].register)}}e.html(register_button).addClass("success round label").parent().attr("href",orders_url+"?plan="+price_details.tlds[f[2]].promo_plan+"&sld="+f[1]+"&tld="+f[2]+h+"&s_id="+s_id+"&r_d="+r_id)}else{e.html(register_button).addClass("success round label").parent().attr("href",orders_url+"?sld="+f[1]+"&tld="+f[2]+h+"&s_id="+s_id+"&r_d="+r_id)}b.html(g);if(price_details.tlds[f[2]].has_promo_price){i.show()}}else{if(l=="0"){var j=Math.min(price_details.tlds[f[2]].transfer,price_details.tlds[f[2]].transfer_promo);var g=sprintf(price_details.currency_symbol,j);if(j<price_details.tlds[f[2]].transfer){g=sprintf(price_details.currency_symbol,price_details.tlds[f[2]].transfer);e.html(transfer_button).addClass("alert round label").parent().attr("href",orders_url+"?plan="+price_details.tlds[f[2]].promo_plan+"&sld="+f[1]+"&tld="+f[2]+h+"&s_id="+s_id+"&r_d="+r_id);if(free_domains){c.html('<i title="'+free_with_hosting+'" data-tooltip class="icon-info-sign has-tip tip-bottom"></i>')}}else{e.html(transfer_button).addClass("alert round label").parent().attr("href",orders_url+"?sld="+f[1]+"&tld="+f[2]+h+"&s_id="+s_id+"&r_d="+r_id)}b.html(g+" "+price_details.store_currency+"/"+domains_table_annual)}else{e.html("Not available").addClass("secondary round label");b.html("Not available")}}});$("#main-content").foundation("tooltip")};